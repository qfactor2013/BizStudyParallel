<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <title>Donuts</title>
	
	<!-- html : 구조/css : 디자이너격/js : 동적화면 구성 -->
	<!-- 외부 css 파일을 현 html에 적용하는 설정 코드 -->	
    <link rel="stylesheet" type="text/css" href="donuts.css" />
  
    <script type="text/javascript">
   
		function updateOrder() {    
			var TAXRATE = 0.1;//부가세
			var DONUTPRICE = 500;//도넛가격
			
			//parseInt() : 정수로 변환시키는 함수 
			var numCakeDonuts 
			= parseInt(document.getElementById("cake").value);			
			var numGlazedDonuts 
			= parseInt(document.getElementById("donuts").value);
			
			//??? data가 숫자가 아니 경우 0으로 초기화
			if (isNaN(numCakeDonuts)){  //is non a numbr의 약어 : 숫자가 아니지? true
				numCakeDonuts = 0;
			}
			if (isNaN(numGlazedDonuts)){
				numGlazedDonuts = 0;
			}

			//??? 총 구매금액, 총 부가세, 구매금액+부가세 계산하기
			var subTotal 
			= (numCakeDonuts + numGlazedDonuts) * DONUTPRICE;//케잌+도너츠 총 구매 금액		
			var tax = subTotal * TAXRATE;	//총 부가세
			var total = subTotal + tax;		//구매금액 + 부가세

			//??? 계산된 각 금액을 해당 text field에 출력하기
			document.getElementById("subtotal").value = subTotal;
			document.getElementById("tax").value = tax;
			document.getElementById("total").value = total;
		}//end of updateOrder()
    </script> 
  </head>

  <body>
    <div id="frame">

      <div class="heading">도너츠 판매합니다</div>
      <div class="subheading">전 제품은 각 500원 입니다, 구매 수량 입력하세요</div>

      <div id="left">
        <img src="donuttime.png" />
      </div>

      <form name="orderform" action="#" method="POST">
  
        <div class="field">
        	<!-- onchange : 해당 tag의 값 변경 감지
        						   값이 변경되면 value에 지정된 
        						   함수 자동 실행 	 -->
			케잌 : <input type="text" id="cake" 
								name="cake" value="" 
								onchange="updateOrder();" />&nbsp;개
        </div>

        <div class="field">
			도너츠 : <input type="text" id="donuts" 
									name="donuts" value="" 
									onchange="updateOrder();" />&nbsp;개
        </div>       

        <div class="field">
			주문개수 금액 : <input type="text" id="subtotal" name="subtotal" value="" readonly="readonly" />&nbsp;원
        </div>

        <div class="field">
			부가세 <input type="text" id="tax" name="tax" value="" readonly="readonly" />&nbsp;원
        </div>

        <div class="field">
			Total: <input type="text" id="total" name="total" value="" readonly="readonly" />&nbsp;원
        </div>

        <div class="field">
			<input type="button" value="주문" onclick="alert('주문되었습니다')" />
        </div>
      </form>
    </div>
  </body>
</html>
